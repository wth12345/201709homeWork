<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
</head>
<body>
<script>
    var str = "aaabbbcbbbcaaaAAABBCCC";
//    var obj = {};
//    for(var i = 0;i<str.length;i++){
//        var cur = str[i];
//        if(obj[cur]){
//            obj[cur]++;
//        }else{
//            obj[cur] = 1;
//        }
//    }
//    console.log(obj);
//    var max= 0;
//    var maxStr = "";
//    for(var attr in obj){
//        if(obj[attr]>max){
//            max = obj[attr];
//            maxStr = attr;
//        }else if(obj[attr]==max){
//            maxStr+=","+attr;
//        }
//    }
//    console.log(max,maxStr);

    str = str.split("").sort(function (a, b) {
        return a.localeCompare(b);
    }).join("");
    var reg = /(\w)\1*/g;
    var max = 0;
    var maxStr = "";
    str.replace(reg,function($0,$1){
        if($0.length>max){
            max = $0.length;
            maxStr = $1;
        }else if($0.length==max){
            maxStr+=","+$1;
        }
    })
    console.log(max,maxStr);
</script>
</body>
</html>