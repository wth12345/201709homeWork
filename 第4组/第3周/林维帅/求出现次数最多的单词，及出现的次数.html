<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

</body>
</html>
<script>
//    var str = "abcdabcdabcdaabbccccccddddddaa";
//    var obj = {};
//    for(var i = 0;i<str.length;i++){//遍历
//        var cur = str[i];
//        if(obj[cur]){
//            obj[cur]++;
//            //obj[cur] = obj[cur]+1;
//        }else{
//            obj[cur] = 1;
//        }
//    }
//
//    var max= 0;
//    var maxStr = "";
//    for(var attr in obj){
//        if(obj[attr]>max){
//            max = obj[attr];
//            maxStr = attr;
//        }else if(obj[attr]==max){
//            maxStr+=","+attr;
//        }
//    }
//    console.log(max,maxStr);

var str = "abcdabcdabcdaabbccccccddddddaa";
str = str.split("").sort(function (a, b) {
    return a.localeCompare(b);
}).join("");
var reg = /(\w)\1*/g;
var max = 0;
var maxStr = "";
str.replace(reg,function($0,$1){
    if($0.length>max){
        max = $0.length;
        maxStr = $1;
    }else if($0.length==max){
        maxStr+=","+$1;
    }
});
console.log(max,maxStr);
</script>